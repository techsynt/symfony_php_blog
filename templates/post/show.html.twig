{% extends 'base.html.twig' %}

{% block title %}Post {% endblock %}

{% block body %}
    <h1>Post â„–{{ post.id }}</h1>

    <a href="{{ path('post_index') }}"><button type="button" class="btn btn-success">back to list</button> </a>

<hr>
    {{ include('post/_delete_form.html.twig') }}
    <table class="table">
        <tbody>
            <tr>
                <th>Title</th>
                <td>{{ post.title }}</td>
            </tr>
            <tr>
                <th>Created_at</th>
                <td>{{ post.createdAt ? post.createdAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Content</th>
                <td>{{ post.content }}</td>
            </tr>
        </tbody>
    </table>
    <div>
        <p>Comments</p><hr>
        <ul>
            {% for comment in comments %}
                <li>{{comment.text}}</li>
            {% endfor %}
        </ul>
        {% if previous >= 0 %}
            <a href="{{ path('post_show', { id: post.id, offset: previous }) }}">Previous 5 Comments</a>
        {% endif %}
        {% if next < comments|length %}
            <a href="{{ path('post_show', { id:post.id, offset: next }) }}">Next 5 Comments</a>
        {% endif %}

    </div>
    <hr>
    <p>Add comments:</p>
    {{ form_start(form) }}
    {{ form_widget(form) }}
        <button class="btn btn-info">{{ button_label|default('Save') }}</button>
    {{ form_end(form) }}
{% endblock %}
